<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Module: Services</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Module: Services</h1>

    




<section>

<header>
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><p>This module contains all the service layer logic of the application. The services encapsulate the business logic required to interact with the data models and perform operations such as retrieval, transformation, and population of data.</p>
<p>The services abstract away the complexities of direct database manipulation from the controllers, providing a clean API for performing operations on the database. This includes fetching data from the database, applying business rules, and preparing data to be sent to the client.</p>
<p>Services in this module include:</p>
<ul>
<li><a href="module-Services.html#.TeamInfo"><code>module:Services.TeamInfo</code></a> for fetching information about teams.</li>
<li><a href="module-Services.html#.CompetitionInfo"><code>module:Services.CompetitionInfo</code></a> for retrieving competition details.</li>
<li><a href="module-DatabaseSeed.html"><code>module:DatabaseSeed</code></a> for seeding the database with initial data.</li>
<li><a href="module-Services.html#.PlayerInfo"><code>module:Services.PlayerInfo</code></a> for getting information about players.</li>
<li><a href="module-Services.html#.playerStats"><code>module:Services.playerStats</code></a> for fetching statistics of players based on various filters.</li>
</ul>
<p>Each service function is designed to be asynchronous, returning promises that resolve with the data needed or reject with an error in case of failure. This design allows for non-blocking operations and efficient handling of I/O-bound tasks.</p>
<p>The services rely on the Sequelize ORM for database interactions, utilizing models defined in the <a href="module-Models.html"><code>module:Models</code></a> module. Relationships between models are leveraged to fetch related data efficiently.</p></div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="services_services.js.html">services/services.js</a>, <a href="services_services.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-Models.html"><code>module:Models</code></a> for the data model definitions used by the services.</li>
        
            <li><a href="module-Database.html"><code>module:Database</code></a> for the database configuration and connection details.</li>
        </ul>
    </dd>
    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id=".CompetitionInfo"><span class="type-signature">(async, static) </span>CompetitionInfo<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;Array>}</span></h4>
    

    



<div class="description">
    <p>Asynchronously retrieves information about all competitions from the database.
This includes details such as the competition's name, the type of teams that participate
(e.g., club, national team), the scope (e.g., domestic, international), the format of the competition,
and the country it is associated with.</p>
<p>The function aims to abstract the query logic, making the data retrieval process reusable and
manageable across different parts of the application. If an error occurs during the database
operation, it throws a generic error to be caught and handled by the caller.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="services_competition.js.html">services/competition.js</a>, <a href="services_competition.js.html#line3">line 3</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-Models.html#.Competition"><code>module:Models.Competition</code></a> - for getting info about Competition model</li>
        
            <li><a href="module-Controller.html#.competitionController"><code>module:Controller.competitionController</code></a> - CompetitionInfo is utilized by the competitionController.</li>
        </ul>
    </dd>
    

    
</dl>













<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>Indicates a failure in retrieving competition information from the database.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise that resolves to an array of objects, each representing detailed information about a competition.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Array></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// Example of returned data:
[
  { "name": "World Cup", "team_type": "nat'l Team", "scope": "international", "competition_format": "cup", "country": null },
  { "name": "UEFA Champions League", "team_type": "club", "scope": "international", "competition_format": "cup", "country": null },
  // More competitions...
]</code></pre>



        
            

    

    
    <h4 class="name" id=".PlayerInfo"><span class="type-signature">(async, static) </span>PlayerInfo<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;Array>}</span></h4>
    

    



<div class="description">
    <p>Asynchronously retrieves all players from the database, selecting only their names and birth dates.
This function is designed to abstract away the database query logic, making it reusable across
different parts of the application. In case of a failure during the database operation, it throws
a generic error to be handled by the caller.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="services_players.js.html">services/players.js</a>, <a href="services_players.js.html#line3">line 3</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-Models.html#.Person"><code>module:Models.Person</code></a> - for getting info about Player model</li>
        
            <li><a href="module-Controller.html#.playerController"><code>module:Controller.playerController</code></a> - PlayerInfo is utilized by the playerController.</li>
        </ul>
    </dd>
    

    
</dl>













<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>Throws an error with the message &quot;Something went wrong&quot; if the database query fails.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise that resolves to an array of objects, each representing a player
with their name and birth date. If the database query fails, the promise rejects with an error.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Array></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// Example of data returned by this function:
[
  { name: "Lionel Messi", birth_date: "1987-06-24" },
  { name: "Cristiano Ronaldo", birth_date: "1985-02-05" }
]</code></pre>



        
            

    

    
    <h4 class="name" id=".TeamInfo"><span class="type-signature">(async, static) </span>TeamInfo<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;Array>}</span></h4>
    

    



<div class="description">
    <p>Retrieves all teams from the database, including their name, country, and team type.
If the database query fails, it throws an error.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="services_teams.js.html">services/teams.js</a>, <a href="services_teams.js.html#line3">line 3</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-Models.html#.Team"><code>module:Models.Team</code></a> - for getting info about the Team Model</li>
        
            <li><a href="module-Controller.html#.teamsController"><code>module:Controller.teamsController</code></a> - TeamInfo is utilized by the teamsController.</li>
        </ul>
    </dd>
    

    
</dl>













<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>When the database query fails.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise that resolves to an array of teams.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Array></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// Example of data returned by this function:
[
  { name: "Sporting CP", country: "Portugal", team_type: "club" },
  { name: "Real Madrid", country: "Spain", team_type: "club" },
  { name: "Argentina", country: "Argentina", team_type: "national_team" },
  { name: "Barcelona", country: "Spain", team_type: "club" },
  // Additional teams...
]</code></pre>



        
            

    

    
    <h4 class="name" id=".playerStats"><span class="type-signature">(async, static) </span>playerStats<span class="signature">(player, team, scope, competition)</span><span class="type-signature"> &rarr; {Promise.&lt;Array.&lt;Object>>}</span></h4>
    

    



<div class="description">
    <p>Retrieves statistics for a player in a specific team, competition scope, and competition format.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>player</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The name or partial name of the player to search for.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>team</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The team type to filter the results by (e.g., 'Club', 'National Team').</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>scope</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The competition scope to filter the results by (e.g., 'Domestic', 'International').</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>competition</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The competition format to filter the results by (e.g., 'League', 'Cup').</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="services_playerStats.js.html">services/playerStats.js</a>, <a href="services_playerStats.js.html#line4">line 4</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-Models.html#.Stats"><code>module:Models.Stats</code></a> - for getting info about Stats model</li>
        
            <li><a href="module-Controller.html#.statsController"><code>module:Controller.statsController</code></a> - PlayerStats is utilized by statsController.</li>
        </ul>
    </dd>
    

    
</dl>













<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>Throws an error with the message &quot;Something went wrong&quot; if the database query fails.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>An array of objects containing the player's statistics, including season, games, minutes, goals, and assists.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Array.&lt;Object>></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>Example output
[
 {
        season: '2004-2005',
        games: 7,
        minutes: 70,
        goals: 1,
        assists: 0,
        Person: {
          name: 'Lionel Messi',
          birth_date: '1987-06-24 00:00:00.000 +00:00'
        },
        Team: { name: 'Barcelona', country: 'Spain' },
        Competition: { name: 'La Liga' }
      },....
    ]</code></pre>



        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Controller.html">Controller</a></li><li><a href="module-DataConversionFactory.html">DataConversionFactory</a></li><li><a href="module-Database.html">Database</a></li><li><a href="module-DatabaseSeed.html">DatabaseSeed</a></li><li><a href="module-Middlewares.html">Middlewares</a></li><li><a href="module-Models.html">Models</a></li><li><a href="module-Relationships.html">Relationships</a></li><li><a href="module-Router.html">Router</a></li><li><a href="module-Routes.html">Routes</a></li><li><a href="module-Server.html">Server</a></li><li><a href="module-Services.html">Services</a></li></ul><h3>Classes</h3><ul><li><a href="CError.html">CError</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Fri Apr 05 2024 02:31:44 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>